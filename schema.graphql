" All transfers "
type Transfer @entity {
  from: Bytes!
  to: Bytes!
  value: BigInt!
  comment: String @fulltext(query: "commentSearch")
  block: Int!
  tip: BigInt!
  timestamp: BigInt!
  insertedAt: DateTime!
}

" Tracks block timestamps "
type BlockTimestamp @entity {
  blockNumber: Int!
  timestamp: BigInt!
}

type Block @variant {
  value: String!
}

type Timestamp @variant {
  value: String!
}

union MarketPeriod = Block | Timestamp

type Categorical @variant {
  value: String!
}

type Scalar @variant {
  value: String!
}

union MarketType = Categorical | Scalar

type Authorized @variant {
  value: String
}

type Court @variant {
  value: Boolean
}

type SimpleDisputes @variant {
  value: Boolean
}

union MarketDisputeMechanism = Authorized | Court | SimpleDisputes

enum MarketEvent {
  MarketCreated,
  MarketInsufficientSubsidy
}

enum MarketStatus {
  InsufficientSubsidy
}

type Market @entity {
  marketId: Int! 
  creator: String!
  creation: String!
  oracle: String!
  slug: String
  question: String
  description: String
  marketType: MarketType!
  period: MarketPeriod!
  scoringRule: String!
  status: String!
  report: String
  resolvedOutcome: String
  mdm: MarketDisputeMechanism!
  marketHistory: [MarketHistory] @derivedFrom(field: "market")
}

type MarketHistory @entity {
  market: Market!
  event: MarketEvent!
  status: String
  report: String
  resolvedOutcome: String
  blockNumber: Int!
  timestamp: BigInt!
}

type Pool @entity {
  poolId: Int!
  baseAsset: String!
  marketId: Int!
  poolStatus: String!
  scoringRule: String!
  swapFee: String!
  totalSubsidy: String!
  totalWeight: String!
  blockNumber: Int!
  timestamp: BigInt!
}